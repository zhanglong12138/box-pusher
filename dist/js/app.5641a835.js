(function(t){function e(e){for(var a,i,o=e[0],s=e[1],u=e[2],f=0,l=[];f<o.length;f++)i=o[f],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&l.push(r[i][0]),r[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);p&&p(e);while(l.length)l.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],a=!0,o=1;o<n.length;o++){var s=n[o];0!==r[s]&&(a=!1)}a&&(c.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},c=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/1-web/box-pusher/dist/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var p=s;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"12d4":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function r(t,e,n,r,c,i){var o=Object(a["k"])("BoxPusher");return Object(a["g"])(),Object(a["c"])(o)}var c={class:"container"},i={class:"stage"},o={class:"win"};function s(t,e,n,r,s,u){return Object(a["g"])(),Object(a["d"])("div",c,[Object(a["e"])("div",i,[Object(a["m"])(Object(a["e"])("div",o,null,512),[[a["l"],s.show]]),(Object(a["g"])(!0),Object(a["d"])(a["a"],null,Object(a["j"])(s.active_map,(function(t,e){return Object(a["g"])(),Object(a["d"])("div",{class:"row",key:e},[(Object(a["g"])(!0),Object(a["d"])(a["a"],null,Object(a["j"])(t,(function(t,e){return Object(a["g"])(),Object(a["d"])("div",{class:Object(a["f"])(["block",u.getBlock(t)]),key:e},null,2)})),128))])})),128))])])}var u=n("53ca"),p=n("3835"),f=(n("d81d"),n("fb6a"),{name:"BoxPusher",data:function(){return{map:[0,0,0,0,0,0,0,2,1,1,1,0,0,1,3,3,1,0,0,1,1,0,0,0,0,1,1,1,4,0,0,1,1,1,4,0,0,0,0,0,0,0],static_map:[],active_map:[],stage:[6,7],box_count:2,key2direction:{87:0,38:0,83:1,40:1,65:2,37:2,68:3,39:3},key_arr:[87,38,83,40,65,37,68,39],show:!1}},beforeCreate:function(){var t=this;window.onkeydown=function(e){t.move(e.keyCode)}},created:function(){this.map.length!=this.stage[0]*this.stage[1]&&alert("map data error");for(var t=[],e=0;e<this.stage[1];e++)t.push(this.map.slice(e*this.stage[0],(e+1)*this.stage[0]));this.static_map=l(t),this.active_map=l(t),this.box_count=this.calc_block(3)},mounted:function(){},computed:{player_position:function(){for(var t in this.active_map)for(var e in this.active_map[t])if(2===this.active_map[t][e])return[this.static_map[t][e],+t,+e];return[0,0]},complete_count:function(){var t=0;for(var e in this.active_map)for(var n in this.active_map[e])3===this.active_map[e][n]&&4===this.static_map[e][n]&&t++;return t}},methods:{congratulations:function(){this.show=!0},calc_block:function(t){var e=0;for(var n in this.map)this.map[n]===t&&e++;return e},getNextblock:function(t,e,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return 0==t?[this.active_map[e-a][n],e-a,n]:1==t?[this.active_map[e+a][n],e+a,n]:2==t?[this.active_map[e][n-a],e,n-a]:3==t?[this.active_map[e][n+a],e,n+a]:void 0},move:function(t){var e=this.key_arr.indexOf(t);if(-1!=e){var n=this.key2direction[""+t],a=Object(p["a"])(this.player_position,3),r=a[0],c=a[1],i=a[2],o=this.getNextblock(n,c,i),s=Object(p["a"])(o,3),u=s[0],f=s[1],l=s[2];switch(u){case 4:case 1:this.active_map[f][l]=2,this.active_map[c][i]=4==r?4:1;break;case 3:var b=this.getNextblock(n,c,i,2),h=Object(p["a"])(b,3),v=h[0],d=h[1],m=h[2];[1,4].indexOf(v)>-1&&(this.active_map[d][m]=3,this.active_map[f][l]=2,this.active_map[c][i]=1);break}this.complete_count==this.box_count&&this.congratulations()}},getBlock:function(t){return["stone","back","player","box","dream","complete"][t]}}});function l(t){var e=Array.isArray(t)?[]:{};if(t&&"object"===Object(u["a"])(t))for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t&&"object"===Object(u["a"])(t[n])?l(t[n]):t[n]);return e}n("b8c7");var b=n("6b0d"),h=n.n(b);const v=h()(f,[["render",s],["__scopeId","data-v-063874ee"]]);var d=v,m={data:function(){return{}},name:"App",components:{BoxPusher:d}};n("f3aa");const _=h()(m,[["render",r]]);var O=_;Object(a["b"])(O).mount("#app")},"73b1":function(t,e,n){},b8c7:function(t,e,n){"use strict";n("12d4")},f3aa:function(t,e,n){"use strict";n("73b1")}});
//# sourceMappingURL=app.5641a835.js.map